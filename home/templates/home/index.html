{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="container-fluid px-0">
        <!-- Source: https://getbootstrap.com/docs/5.0/components/carousel/#with-captions -->
        <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/media/cricketers.jpg" class="d-block w-100 img-fluid" alt="Golfer with equipment">
                    <div class="carousel-caption d-block">
                        <small>Stumps & Studs - your place for the latest sports equipment, clothing and footwear.</small>
                        <div>
                            <a href="{% url 'products' %}" class="btn btn-green mt-3"><h3 class="mb-0">Shop Now</h3></a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/media/golfer.jpg" class="d-block w-100 img-fluid" alt="Golfer with equipment">
                    <div class="carousel-caption d-block">
                        <small>Take to the field - view our array of sports equipment</small>
                        <div>
                            <a href="{% url 'products' %}?category=equipment" class="btn btn-green mt-3"><h3 class="mb-0">Shop For Equipment</h3></a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/media/clothing.jpg" class="d-block w-100 img-fluid" alt="Women wearing sports clothing">
                    <div class="carousel-caption d-block">
                        <small>Get kitted out in the latest activewear!</small>
                        <div>
                            <a href="{% url 'products' %}?category=clothing" class="btn btn-green mt-3"><h3 class="mb-0">Shop For Clothing</h3></a>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="/media/running-shoes.jpg" class="d-block w-100 img-fluid" alt="Multiple joggers wearing running shoes.">
                    <div class="carousel-caption d-block">
                        <small>Leap into action with the latest footwear!</small>
                        <div>
                            <a href="{% url 'products' %}?category=footwear" class="btn btn-green mt-3"><h3 class="mb-0">Shop For Footwear</h3></a>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                <span aria-hidden="true"><i class="fas fa-chevron-left fs-1 purple-hover"></i></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                <span aria-hidden="true"><i class="fas fa-chevron-right fs-1 purple-hover"></i></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
{% endblock %}

{% block postload_js %}
    {{ block.super}}
    <script type="text/javascript">

        // Make header background transparent by default and remove top margin from body.
        $('header').addClass('header-transparent');
        $('body').css('margin-top', '0')

        // Make header transparent when at top of page, black when scrolling down.
        // Solution sourced from: https://stackoverflow.com/questions/36246878/how-to-make-a-transparent-navbar-visible-when-scrolling
        $(window).scroll(function () {
            // When scrolling down from top, remove transparency.
            if ($(window).scrollTop() >= 50) {
                $('header').removeClass('header-transparent');
            } else if ($(window).scrollTop() < 50) {
                $('header').addClass('header-transparent');
            };
        });

        // Ensure header background is black when nav toggle is open i.e. not collapsed.
        $('#mob-nav-toggle').click(function() {
            // When the mob-nav-tobble button is clicked and the menu is opened, the collapsed class is removed.
            // When the mob-nav-tobble button is clicked and the menu is closed, the collapsed class is added.
            // Create expanded variable: true if not collapsed (e.g. expanded), false if collapsed.
            var expanded = !$('#mob-nav-toggle').hasClass('collapsed')
            // When clicked, if nav menu expanded (not collapsed), remove transparency.
            if (expanded) {
                $('header').removeClass('header-transparent');
            // When clicked, if nav menu is collapsed, add transparency only if scrolled to top of page.
            } else if ((!expanded) && ($(window).scrollTop() < 50)) {
                $('header').addClass('header-transparent');
            };
        });

    </script>
{% endblock %}